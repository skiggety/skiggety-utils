#!/usr/bin/env bash

. $SKIGGETY_UTILS_DIR/lib/skiggety-utils.bash || exit 1

ADD_ALL_SHARPS='false'
ADD_ALL_FLATS='false'

while [[ "$1" == -* ]]; do
    if [ "$1" == '--add-flats' ]; then
        ADD_ALL_FLATS='true'
        ADD_ALL_SHARPS='false'
        shift
    elif [ "$1" == '--add-sharps' ]; then
        ADD_ALL_SHARPS='true'
        ADD_ALL_FLATS='false'
        shift
    else
        exit_with_error "BAD OPTION: $1"
    fi
done

A="$(cofcolor 0)A ${no_color}"
B="$(cofcolor 1)B ${no_color}"
C="$(cofcolor 3)C ${no_color}"
D="$(cofcolor 5)D ${no_color}"
E="$(cofcolor 7)E ${no_color}"
F="$(cofcolor 8)F ${no_color}"
G="$(cofcolor 10)G ${no_color}"

FLAT=$'\U266d'
SHARP=$'\U266f'

if $ADD_ALL_SHARPS; then
    Cs="$(cofcolor 4)C$SHARP${no_color}|"
    Eb="$(cofcolor 6)D$SHARP${no_color}|"
    Fs="$(cofcolor 9)F$SHARP${no_color}|"
    Ab="$(cofcolor 11)G$SHARP${no_color}|"
    Bb="$(cofcolor 1)A$SHARP${no_color}|"
elif $ADD_ALL_FLATS; then
    Cs="$(cofcolor 4)D$FLAT${no_color}|"
    Eb="$(cofcolor 6)F$FLAT${no_color}|"
    Fs="$(cofcolor 9)G$FLAT${no_color}|"
    Ab="$(cofcolor 11)A$FLAT${no_color}|"
    Bb="$(cofcolor 1)B$FLAT${no_color}|"
else
    Cs="  |"
    Eb="  |"
    Fs="  |"
    Ab="  |"
    Bb="  |"
fi

echo -e "
 _________________________________________________________________________________________________________
|  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |
|  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |
|  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |
|  |$Cs  |$Eb  |  |$Fs |$Ab  |$Bb  |  |$Cs  |$Eb  |  |$Fs |$Ab  |$Bb  |  |$Cs  |$Eb  |  |$Fs |$Ab  |$Bb  |
|  |__|  |__|  |  |__| |__|  |__|  |  |__|  |__|  |  |__| |__|  |__|  |  |__|  |__|  |  |__| |__|  |__|  |
|    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |
| $C | $D | $E | $F | $G | $A | $B | $C | $D | $E | $F | $G | $A | $B | $C | $D | $E | $F | $G | $A | $B |
|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|
"

echo -e "
__________ __________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
|   |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |    |
|   |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |    |
|   |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |  |  |  |  |  |  |  | |  |  |  |  |    |
| 0 |$Bb  |1 |$Cs  |$Eb  |  |$Fs |$Ab  |$Bb  |2 |$Cs  |$Eb  |  |$Fs |$Ab  |$Bb  |3 |$Cs  |$Eb  |  |$Fs |$Ab  |$Bb  |4 |$Cs  |$Eb  |  |$Fs |$Ab  |$Bb  |5 |$Cs  |$Eb  |  |$Fs |$Ab  |$Bb  |6 |$Cs  |$Eb  |  |$Fs |$Ab  |$Bb  |7 |$Cs  |$Eb  |  |$Fs |$Ab  |$Bb 7| 8  |
|   |__|  |  |__|  |__|  |  |__| |__|  |__|  |  |__|  |__|  |  |__| |__|  |__|  |  |__|  |__|  |  |__| |__|  |__|  |  |__|  |__|  |  |__| |__|  |__|  |  |__|  |__|  |  |__| |__|  |__|  |  |__|  |__|  |  |__| |__|  |__|  |  |__|  |__|  |  |__| |__|  |__|  |    |
|    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |    |
| $A | $B | $C | $D | $E | $F | $G | $A | $B | $C | $D | $E | $F | $G | $A | $B | $C | $D | $E | $F | $G | $A | $B | $C | $D | $E | $F | $G | $A | $B | $C | $D | $E | $F | $G | $A | $B | $C | $D | $E | $F | $G | $A | $B | $C | $D | $E | $F | $G | $A | $B | $C |
|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|____|
"
