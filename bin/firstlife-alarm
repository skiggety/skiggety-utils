#!/usr/bin/env bash

# This script annoys the user until they respond, usually for a stated purpose

. $SKIGGETY_UTILS_DIR/lib/skiggety-utils.bash || exit 1
. $SKIGGETY_UTILS_DIR/lib/firstlife.bash || exit_with_error 'could not use common firstlife code'

# TODO: make sure volume is up
tput bel # a.k.a. ding, bell (for searchability) # TODO?: DELETE now that we have another sound
SNOOZE_SECONDS=60
export SNOOZE_SECONDS
while firstlife-single-alarm "$*";do
    SNOOZE_SECONDS="$(( $SNOOZE_SECONDS + 10 ))"
    export SNOOZE_SECONDS
    echo
done
echo
echo 'Alarm stopped'

exit 0
