#!/usr/bin/env bash

# This script encourages you to work on this codebase for a bit

. $SKIGGETY_UTILS_DIR/lib/skiggety-utils.bash || exit 1
. $SKIGGETY_UTILS_DIR/lib/firstlife.bash || exit_with_error 'could not use common firstlife code'

firstlife_preempt_same_script

firstlife-pomodoro --with-alarms --without-break "Work on firstlife, making sure to test and commit as you go, and following the todo list" || exit_with_error "Did not do firstlife pomodoro"
while ! clean-up-firstlife-local-changes; do
    firstlife_exit_if_needed
    firstlife-alarm "Hey, you need to commit something!"
done

firstlife-break -t 300
