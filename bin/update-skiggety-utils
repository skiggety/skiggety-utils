#!/usr/bin/env bash

THIS_DIR="$(cd "$(dirname $BASH_SOURCE)";pwd)"
. $THIS_DIR/../lib/skiggety-utils.bash || exit 1

# This script installs the latest skiggety-utils

pushd $SKIGGETY_UTILS_DIR >/dev/null

echo "getting the latest skiggety-utils by running 'git pull':"
git pull || exit_with_error "could not pull latest changes from git"
# TODO: make this show the timestamp, too:
git -c color.ui=always --no-pager log --oneline --decorate=short origin/HEAD~..HEAD -n 15

echo "running 'install-skiggety-utils $@':"
install-skiggety-utils "$@" || exit 1

popd >/dev/null
echo "$(basename $0) COMPLETE."
