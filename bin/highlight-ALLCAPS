#!/usr/bin/env ruby
# frozen_string_literal: true

# pass every line of STDIN through a regex using colorhash-keyword before outputting it to STDOUT
# usage: cat file | bin/highlight-ALLCAPS

# EASY TODO^141 RENAME?: color-code-keywords

pattern = '\b[A-Z][A-Z_]+\b'

ARGF.each do |line|
  puts line.gsub(/(#{pattern})/){ `colorhash-keyword #{Regexp.last_match(1)}`.chomp }
end
