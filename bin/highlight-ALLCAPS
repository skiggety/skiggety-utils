#!/usr/bin/env ruby

# pass every line of STDIN through a regex using colorhash-keyword before outputting it to STDOUT
# usage: cat file | bin/highlight-ALLCAPS

# EASY TODO^141 RENAME?: color-code-keywords

pattern = '\b[A-Z][A-Z_]+\b'

ARGF.each do |line|
  puts line.gsub(/(#{pattern})/) { `colorhash-keyword #{$1}`.chomp }
end
