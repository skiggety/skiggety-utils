#!/usr/bin/env bash

# this script prints a summary of the status of development (or whatever) in the current directory, including information about git, todo's, tests, etc. it can often simply call default_dashboard from the path

THIS_DIR="$(cd "$(dirname $BASH_SOURCE)";pwd)"
. $THIS_DIR/../lib/skiggety-utils.bash || exit 1

# Less important than the output of default_dashboard:
# echo_divider "-"
# grep -Rn "# This script" .
# pretty_sleep 10 || sleep 10

# TODO TODO: work on this diff:
# show diff with old mac files:
if ! [ -z "$SKIGGETY_UTILS_DONOR_DIR" ]
then
    echo_divider_with_text "-" "diff summary for \"$SKIGGETY_UTILS_DONOR_DIR\":"
    diff -rq --exclude=.DS_Store --exclude=.git $THIS_DIR/.. $SKIGGETY_UTILS_DONOR_DIR | grep -v "^Only in $THIS_DIR/.." | head -n 5
fi
echo_divider "-"

bin/default_dashboard

# TODO?: tell you what command to run to commit changes or whatever
# TODO?: graph score over time

# More important than the output of default_dashboard:
